/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
define(function(){var e=function(e){"use strict";var t="value",n="__proto__",r=e.create,i=e.defineProperties,s=e.getOwnPropertyDescriptor,o=e.getOwnPropertyNames,u=e.getOwnPropertySymbols||function(e){return Array.prototype},a=e.getPrototypeOf||function(e){return e[n]},f=e.prototype.hasOwnProperty,l=typeof Reflect!=typeof oK&&Reflect.ownKeys||function(e){return u(e).concat(o(e))},c=-1,h=null,p=null,d=function(){h=p=null},v=function(t){var n=r(a(t));return h=[t],p=[n],E(n,t),d(),n},m=function(e){h=[],p=[];for(var t=1;t<arguments.length;t++)h[t-1]=arguments[t],p[t-1]=e;return x.apply(!0,arguments),d(),e},g=function(t){d();for(var n,i={},o=l(t),u=o.length;u--;i[n]=s(t,n))n=o[u];return r(a(t),i)},y=function(){return d(),x.apply(!1,arguments)},b=function(t){return t!=null&&typeof t=="object"},w=function(t){c=-1;if(b(t)){if(h==null)return!0;c=h.indexOf(t);if(c<0)return 0<h.push(t)}return!1},E=function(n,r){for(var o,u,a={},f=l(r),c=f.length;c--;)o=f[c],u=s(r,o),t in u&&S(u),a[o]=u;i(n,a)},S=function(n){var i=n[t];w(i)?(n[t]=r(a(i)),E(n[t],i),p[h.indexOf(i)]=n[t]):-1<c&&c in p&&(n[t]=p[c])},x=function T(e){for(var n,r,o,u,a,c,h=this.valueOf(),p={},d,v=1;v<arguments.length;v++){n=arguments[v],r=l(n);for(d=0;d<r.length;d++)o=r[d],c=s(n,o),f.call(e,o)?t in c&&(u=c[t],w(u)&&(c=s(e,o),t in c&&(a=c[t],b(a)&&T.call(h,a,u)))):(h&&t in c&&S(c),p[o]=c)}return i(e,p)};return{deep:{copy:v,merge:m},shallow:{copy:g,merge:y}}}(Object);return e});